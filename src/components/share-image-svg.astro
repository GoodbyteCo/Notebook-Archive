---
import { formatShortDate } from '../util/dates'
import type { NotebookInfo } from '../util/notebooks'

const { notebook } = Astro.props as { notebook: NotebookInfo }

const startDate = formatShortDate(notebook.started.date).toUpperCase()
const endDate = formatShortDate(notebook.completed.date).toUpperCase()
const INK_COLOR = '#000'
const PAPER_COLOR = '#fff'

/*
 * NOTE: only svgs can be converted into social images -- no other html allowed!
 */
---

<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 630">
	<rect fill={PAPER_COLOR} x="0" y="0" width="1200" height="630"/>
	<image href={`./notebooks/${notebook.folderName}/00.png`} x="100" y="70" width="456" height="717"/>
	<text opacity=".4" font-size="28" font-weight="bold" letter-spacing="1" fill={INK_COLOR} text-anchor="middle">
		<tspan x="873" y="281">NOTEBOOK #{notebook.index}</tspan>
	</text>
	<text font-size="28" font-weight="bold" letter-spacing="1" fill={INK_COLOR} xml:space="preserve" text-anchor="middle">
		<tspan x="873" y="333">{startDate}         {endDate}</tspan>
	</text>
	<g transform="translate(769 386)">
		<rect fill="#FFF" x="1" width="45" height="41" rx="9"/>
		<path fill={INK_COLOR} opacity=".2"  d="M40 1h2.25v3.8h3v-.76L46 7.07v28.86l-.75 2.27h-3v3.04L40
		42H7c-3.75 0-6-3.04-6-6.07V7.07C1 3.27 3.25 1 7 1h33Zm-3.75 37.2h-3v3.04h3V38.2Zm4.5
		0h-3v3.04h3V38.2Zm-9 0h-3v3.04h3V38.2Zm-4.5 0h-3v3.04h3V38.2Zm0-4.55h-3v3.04h3v-3.04Zm4.5
		0h-3v3.04h3v-3.04Zm4.5 0h-3v3.04h3v-3.04Zm4.5 0h-3v3.04h3v-3.04Zm4.5
		0h-3v3.04h3v-3.04Zm-18-4.56h-3v3.04h3v-3.04Zm4.5 0h-3v3.04h3v-3.04Zm4.5
		0h-3v3.04h3v-3.04Zm4.5 0h-3v3.04h3v-3.04Zm4.5 0h-3v3.04h3v-3.04Zm-18-4.55h-3v3.03h3v-3.03Zm9
		0h-3v3.03h3v-3.03Zm4.5 0h-3v3.03h3v-3.03Zm4.5 0h-3v3.03h3v-3.03Zm-13.5
		0h-3v3.03h3v-3.03Zm4.5-4.56h-3v3.04h3v-3.04Zm-9 0h-3v3.04h3v-3.04Zm18 0h-3v3.04h3v-3.04Zm-13.5
		0h-3v3.04h3v-3.04Zm9 0h-3v3.04h3v-3.04Zm-13.5-4.55h-3v3.03h3v-3.03Zm9 0h-3v3.03h3v-3.03Zm4.5
		0h-3v3.03h3v-3.03Zm4.5 0h-3v3.03h3v-3.03Zm-13.5 0h-3v3.03h3v-3.03Zm-4.5-4.56h-3v3.04h3v-3.04Zm4.5
		0h-3v3.04h3v-3.04Zm4.5 0h-3v3.04h3v-3.04Zm4.5 0h-3v3.04h3v-3.04Zm4.5
		0h-3v3.04h3v-3.04Zm-18-4.56h-3v3.04h3V6.31Zm4.5 0h-3v3.04h3V6.31Zm4.5 0h-3v3.04h3V6.31Zm4.5
		0h-3v3.04h3V6.31Zm4.5 0h-3v3.04h3V6.31Zm-18-4.55h-3V4.8h3V1.76Zm4.5 0h-3V4.8h3V1.76Zm4.5
		0h-3V4.8h3V1.76Zm4.5 0h-3V4.8h3V1.76Z"/>
		<path fill={INK_COLOR} d="M40.18 0C43.97 0 47 3 47 6.75v28.5A6.76 6.76 0 0 1 40.18 42H6.82C3.03
		42 0 39 0 35.25V6.75A6.76 6.76 0 0 1 6.82 0h33.36ZM22.74 1.5H6.82a5.15
		5.15 0 0 0-5.3 5.25v28.5c0 3 2.27 5.25 5.3 5.25h15.92v-39Zm17.44 0H24.26v39h15.92c3.03
		0 5.3-2.25 5.3-5.25V6.75c0-3-2.27-5.25-5.3-5.25Z"/>
	</g>
	<text fill={INK_COLOR} font-size="11" font-weight="bold" letter-spacing=".4">
		<tspan x="836.5" y="406">PERSONAL NOTEBOOK</tspan>
		<tspan x="836.5" y="420">ARCHIVE</tspan>
	</text>
</svg>